(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"Modal_Overlay__aUOyL",Modal:"Modal_Modal__2MMom"}},11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1rdjK",ImageGalleryItem__image:"ImageGalleryItem_ImageGalleryItem__image__20U2a"}},12:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2IBNj",warning:"ImageGallery_warning__3P89U"}},15:function(e,t,a){e.exports={loader:"Loader_loader___3J--"}},16:function(e,t,a){e.exports={Button:"Button_Button__2S_l4"}},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3SbKY",SearchForm:"Searchbar_SearchForm__28BeU",SearchForm__button:"Searchbar_SearchForm__button__2BoBL",SearchForm__button__label:"Searchbar_SearchForm__button__label__rVMOd",SearchForm__input:"Searchbar_SearchForm__input__3Vbrq"}},42:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(6),c=a.n(r),o=a(3),i=a(8),s=a(4),l=a.n(s),u=a(1);function b(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(o.a)(a,2),c=r[0],s=r[1],b=function(){s("")};return Object(u.jsx)("header",{className:l.a.Searchbar,children:Object(u.jsxs)("form",{className:l.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),b()):i.b.error("Enter a valid search")},children:[Object(u.jsx)("button",{type:"submit",className:l.a.SearchForm__button,children:Object(u.jsx)("span",{className:l.a.SearchForm__button__label,children:"Search"})}),Object(u.jsx)("input",{value:c,onChange:function(e){var t=e.currentTarget.value.toLowerCase();s(t)},className:l.a.SearchForm__input,type:"text",placeholder:"Search images and photos"})]})})}var m=a(13);var j=function(e){return fetch("".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(1,"&key=").concat("21916161-6ae0745b5418f2e7bb34916ca","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()}))},_=a(10),h=a.n(_);function g(e){var t=e.url,a=e.tags,r=e.onClose,c=Object(n.useRef)(null);Object(n.useEffect)((function(){c.current=window.addEventListener("keydown",o)}));var o=function e(t){"Escape"===t.code&&(r(),c.current=window.removeEventListener("keydown",e))};return Object(u.jsx)("div",{className:h.a.Overlay,onClick:function(e){e.currentTarget===e.target&&r()},children:Object(u.jsx)("div",{className:h.a.Modal,children:Object(u.jsx)("img",{src:t,alt:a})})})}var d=a(14),O=a.n(d),f=a(15),p=a.n(f),x=function(){return Object(u.jsx)("div",{className:p.a.loader,children:Object(u.jsx)(O.a,{type:"Circles",color:"#00BFFF",height:80,width:80,timeout:3e3})})},S=a(11),v=a.n(S),y=function(e){var t=e.images,a=e.onClick;return Object(u.jsx)(u.Fragment,{children:t.map((function(e){return Object(u.jsx)("li",{onClick:function(){return a(e.largeImageURL,e.tags)},className:v.a.ImageGalleryItem,children:Object(u.jsx)("img",{src:e.webformatURL,alt:e.tags,className:v.a.ImageGalleryItem__image})},e.id)}))})},I=a(16),F=a.n(I),w=function(e){var t=e.onClick;return Object(u.jsx)("button",{type:"button",onClick:t,className:F.a.Button,children:"Load more"})},k=a(12),N=a.n(k),G=1;function C(e){var t=e.images,a=Object(n.useState)(null),r=Object(o.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)(""),l=Object(o.a)(s,2),b=l[0],_=l[1],h=Object(n.useState)(""),d=Object(o.a)(h,2),O=d[0],f=d[1],p=Object(n.useState)(!1),S=Object(o.a)(p,2),v=S[0],I=S[1],F=Object(n.useState)("idle"),k=Object(o.a)(F,2),C=k[0],B=k[1];console.log(c),Object(n.useEffect)((function(){t&&(B("pending"),console.log(t),j(t).then((function(e){if(0===e.hits.length)return B("rejected");i(e.hits),B("resolved")})).finally((function(){return E()})))}),[t]);var E=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return"idle"===C?Object(u.jsx)(u.Fragment,{}):"pending"===C?Object(u.jsx)(x,{}):"rejected"===C?Object(u.jsx)("h1",{className:N.a.warning,children:"Enter something else"}):"resolved"===C?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("ul",{className:N.a.ImageGallery,children:c&&Object(u.jsx)(y,{images:c,onClick:function(e,t){_(e),f(t),I(!0)}})}),c&&Object(u.jsx)(w,{onClick:function(){G+=1,B("pending"),fetch("".concat("https://pixabay.com/api/","?q=").concat(t,"&page=").concat(G,"&key=").concat("21916161-6ae0745b5418f2e7bb34916ca","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(e){i([].concat(Object(m.a)(c),Object(m.a)(e.hits))),B("resolved")})).finally((function(){return E()}))}}),v&&Object(u.jsx)(g,{onClose:function(){I(!1)},url:b,tags:O})]}):void 0}function B(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{onSubmit:function(e){r(e)}}),Object(u.jsx)(i.a,{}),Object(u.jsx)(C,{images:a})]})}a(42);var E=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(B,{})})};a(43);c.a.render(Object(u.jsx)(E,{}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.4cc0d087.chunk.js.map