{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/services/imageFinder-api.js","components/Modal/Modal.js","components/Loader/Loader.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/imageFinder/ImageFinder.js","App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","images","setImages","reset","className","styles","SearchForm","e","preventDefault","trim","toast","error","type","SearchForm__button","SearchForm__button__label","value","onChange","currentTarget","toLowerCase","SearchForm__input","placeholder","fetchImages","req","fetch","then","res","json","Modal","url","tags","onClose","windowListener","useRef","useEffect","current","window","addEventListener","handleKeyDown","code","removeEventListener","Overlay","onClick","target","src","alt","LoaderComponent","loader","color","height","width","timeout","ImageGalleryItem","map","image","largeImageURL","webformatURL","ImageGalleryItem__image","id","Button","page","ImageGallery","Newimages","setNewImages","urlImage","setUrlImage","tagsImage","setTagsImage","showModal","setShowModal","status","setStatus","console","log","imageFinderAPI","hits","length","finally","scrollPage","scrollTo","top","document","documentElement","scrollHeight","behavior","Loader","warning","ImageFinder","data","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.4cc0d087.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__aUOyL\",\"Modal\":\"Modal_Modal__2MMom\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1rdjK\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__20U2a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2IBNj\",\"warning\":\"ImageGallery_warning__3P89U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader___3J--\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2S_l4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3SbKY\",\"SearchForm\":\"Searchbar_SearchForm__28BeU\",\"SearchForm__button\":\"Searchbar_SearchForm__button__2BoBL\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__rVMOd\",\"SearchForm__input\":\"Searchbar_SearchForm__input__3Vbrq\"};","import { useState } from 'react';\nimport { toast } from 'react-toastify';\n\nimport styles from './Searchbar.module.css';\n\nexport default function Searchbar ({onSubmit}) {\n  const [images, setImages] = useState('');\n\n    const handleInputChange = e => {\n    const value = e.currentTarget.value.toLowerCase();\n\n    setImages(value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (images.trim() === '') {\n      toast.error('Enter a valid search');\n      return;\n    };\n\n    onSubmit(images);\n    \n    reset();\n  };\n\n  const reset = () => {\n    setImages('');\n  };\n \n  return (\n          <header className={styles.Searchbar}>\n            <form className={styles.SearchForm} onSubmit={handleSubmit}>\n              <button type=\"submit\" className={styles.SearchForm__button}>\n                <span className={styles.SearchForm__button__label}>Search</span>\n              </button>\n    \n              <input\n                value={images}\n                onChange={handleInputChange}\n                className={styles.SearchForm__input}\n                type=\"text\"\n                // autocomplete=\"off\"\n                // autofocus=\"true\"\n                placeholder=\"Search images and photos\"\n              />\n            </form>\n          </header>\n        );\n};\n","const KEY = '21916161-6ae0745b5418f2e7bb34916ca';\nconst URL = 'https://pixabay.com/api/';\nlet page = 1;\n\nfunction fetchImages(req) {\n  return fetch(\n    `${URL}?q=${req}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(res => res.json());\n}\n\nexport default  fetchImages ;\n","import { useEffect, useRef } from 'react';\n\nimport styles from './Modal.module.css';\n\nexport default function Modal ({url, tags, onClose} ) {\n  const windowListener = useRef(null);\n\n  useEffect(() => {\n    windowListener.current = window.addEventListener('keydown', handleKeyDown);\n  });\n\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n      windowListener.current = window.removeEventListener('keydown',handleKeyDown,);\n    }\n  };\n\n  const handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return (\n          <div className={styles.Overlay} onClick={handleBackdropClick}>\n            <div className={styles.Modal}>\n              <img src={url} alt={tags} />\n            </div>\n          </div>\n        );\n};\n","import Loader from 'react-loader-spinner';\n\nimport styles from './Loader.module.css';\n\nconst LoaderComponent = () => (\n  <div className={styles.loader}>\n    <Loader\n    type=\"Circles\"\n    color=\"#00BFFF\"\n    height={80}\n    width={80}\n    timeout={3000}\n\n    />\n  </div>\n  \n);\n\nexport default LoaderComponent;\n","import React from 'react';\n\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ images, onClick }) => (\n  <>\n    {images.map(image => (\n      <li\n        onClick={() => onClick(image.largeImageURL, image.tags)}\n        className={styles.ImageGalleryItem}\n        key={image.id}\n      >\n        <img\n          src={image.webformatURL}\n          alt={image.tags}\n          className={styles.ImageGalleryItem__image}\n        />\n      </li>\n    ))}\n  </>\n);\n\nexport default ImageGalleryItem;\n","import React from 'react';\n\nimport styles from './Button.module.css';\n\nconst Button = ({ onClick }) => (\n  <button type=\"button\" onClick={onClick} className={styles.Button}>\n    Load more\n  </button>\n);\n\nexport default Button;\n","import { useState, useEffect } from 'react';\nimport imageFinderAPI from '../services/imageFinder-api';\nimport Modal from '../Modal/Modal';\nimport LoaderComponent from '../Loader/Loader';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button/Button';\n\nimport styles from './ImageGallery.module.css';\n\nconst KEY = '21916161-6ae0745b5418f2e7bb34916ca';\nconst URL = 'https://pixabay.com/api/';\nlet page = 1;\n\nexport default function ImageGallery ({images}) {\n  const [Newimages, setNewImages] = useState(null);\n  const [urlImage, setUrlImage] = useState('');\n  const [tagsImage, setTagsImage] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [status, setStatus] = useState('idle');\n\n  console.log(Newimages)\n\n  useEffect(() => {\n    if(!images) {\n      return\n    }\n    setStatus('pending');\n    console.log(images)\n    imageFinderAPI(images)\n        .then(images => {\n          if (images.hits.length === 0) {\n            return setStatus('rejected');\n          }\n          setNewImages(images.hits);\n          setStatus('resolved');\n        })\n        .finally(() => scrollPage());\n  }, [images]);\n\n  const handleClickLoadMore = () => {\n        page += 1;\n    \n        setStatus('pending');\n    \n        fetch(\n          `${URL}?q=${images}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n        )\n          .then(res => res.json())\n          .then(images => {\n            setNewImages([...Newimages, ...images.hits]);\n            setStatus('resolved');\n          })\n          .finally(() => scrollPage());\n      };\n\n  const handleClickItem = (largeImageURL, tags) => {\n    setUrlImage(largeImageURL);\n    setTagsImage(tags);\n    setShowModal(true)\n      };\n\n\n  const closeModal = () => {\n    setShowModal(false)\n  };\n\n  const scrollPage = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n\n  if (status === 'idle') {\n    return <></>;\n  }\n\n  if (status === 'pending') {\n    return <LoaderComponent />;\n  }\n\n  if (status === 'rejected') {\n    return <h1 className={styles.warning}>Enter something else</h1>;\n  }\n\n  if (status === 'resolved') {\n    return (\n      <>\n        <ul className={styles.ImageGallery}>\n          {Newimages && (\n            <ImageGalleryItem\n              images={Newimages}\n              onClick={handleClickItem}\n            />\n          )}\n        </ul>\n        {Newimages && <Button onClick={handleClickLoadMore} />}\n\n        {showModal && (\n          <Modal onClose={closeModal} url={urlImage} tags={tagsImage} />\n        )}\n      </>\n    );\n  }\n};\n","import { useState } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\n\nexport default function ImageFinder () {\n  const [images, setImages] = useState('');\n\n  const formSubmitHandle = data => {\n    setImages(data);\n  }\n\n  return (\n          <>\n            <Searchbar onSubmit={formSubmitHandle} />\n            <ToastContainer />\n            <ImageGallery images={images} />\n          </>\n        );\n}\n","import React from 'react';\nimport ImageFinder from './components';\n\nimport './App.css';\n\nconst App = () => (\n  <>\n    <ImageFinder />\n  </>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}